<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<connectionStrings>
		<add name="base_datosEntities"
			 connectionString="metadata=res://*/BuenosAiresEDM.csdl|res://*/BuenosAiresEDM.ssdl|res://*/BuenosAiresEDM.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=DESKTOP-852UNJS\SQLEXPRESS;initial catalog=base_datos;user id=sa;password=123;trustservercertificate=True;MultipleActiveResultSets=True;App=EntityFramework&quot;"
			 providerName="System.Data.EntityClient" />
	</connectionStrings>

	<appSettings>
		<add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
	</appSettings>

	<system.web>
		<compilation debug="true" targetFramework="4.8" />
		<httpRuntime targetFramework="4.8" />
	</system.web>

	<system.serviceModel>
		<!-- Servicios WCF -->
		<services>
			<!-- Servicio WsAutenticacion -->
			<service name="BuenosAires.ServiceLayer.WsAutenticacion"
					 behaviorConfiguration="ServiceBehavior">
				<host>
					<baseAddresses>
						<add baseAddress="http://localhost:50397/WsAutenticacion.svc" />
					</baseAddresses>
				</host>
				<endpoint address=""
						  binding="basicHttpBinding"
						  contract="BuenosAires.ServiceLayer.IWsAutenticacion" />
				<endpoint address="mex"
						  binding="mexHttpBinding"
						  contract="IMetadataExchange" />
			</service>

			<!-- Servicio WsAnwo -->
			<service name="BuenosAires.ServiceLayer.WsAnwo"
					 behaviorConfiguration="ServiceBehavior">
				<host>
					<baseAddresses>
						<add baseAddress="http://localhost:50397/WsAnwo.svc" />
					</baseAddresses>
				</host>
				<endpoint address=""
						  binding="basicHttpBinding"
						  contract="BuenosAires.ServiceLayer.IWsAnwo" />
				<endpoint address="mex"
						  binding="mexHttpBinding"
						  contract="IMetadataExchange" />
			</service>

			<!-- Servicio WsGuiaDespacho -->
			<service name="BuenosAires.ServiceLayer.WsGuiaDespacho"
					 behaviorConfiguration="ServiceBehavior">
				<endpoint address=""
						  binding="basicHttpBinding"
						  contract="BuenosAires.ServiceLayer.IWsGuiaDespacho" />
				<endpoint address="mex"
						  binding="mexHttpBinding"
						  contract="IMetadataExchange" />
			</service>
		</services>

		<!-- Comportamientos -->
		<behaviors>
			<serviceBehaviors>
				<behavior name="ServiceBehavior">
					<serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
					<serviceDebug includeExceptionDetailInFaults="true" />
				</behavior>
			</serviceBehaviors>
		</behaviors>

		<!-- Configuración adicional -->
		<protocolMapping>
			<add binding="basicHttpsBinding" scheme="https" />
		</protocolMapping>

		<serviceHostingEnvironment aspNetCompatibilityEnabled="true"
								   multipleSiteBindingsEnabled="true" />

		<!-- Bindings -->
		<bindings>
			<basicHttpBinding>
				<binding name="BasicHttpBinding_IWsAnwo">
					<security mode="None" />
				</binding>
			</basicHttpBinding>
		</bindings>

		<!-- Endpoints cliente (para consumir servicios externos) -->
		<client>
			<!-- Autenticación -->
			<endpoint address="http://localhost:50397/WsAutenticacion.svc"
					  binding="basicHttpBinding"
					  contract="WsAutenticacionReference.IWsAutenticacion"
					  name="WsAutenticacion1" />

			<endpoint address="http://otroservidor/WsAutenticacion.svc"
					  binding="basicHttpBinding"
					  contract="WsAutenticacionReference.IWsAutenticacion"
					  name="WsAutenticacion2" />

			<!-- WsGuiaDespacho -->
			<endpoint address="http://localhost:50400/WsGuiaDespacho.svc"
					  binding="basicHttpBinding"
					  contract="WsGuiaDespachoReference.IWsGuiaDespacho"
					  name="WsGuiaDespacho" />

			<!-- Endpoints para WsAnwo -->
			<endpoint address="http://localhost:50397/WsAnwo.svc"
					  binding="basicHttpBinding"
					  bindingConfiguration="BasicHttpBinding_IWsAnwo"
					  contract="WsAnwoReference.IWsAnwo"
					  name="WsAnwo1" />

			<!-- Endpoint sin name para instanciación por defecto -->
			<endpoint address="http://localhost:50397/WsAnwo.svc"
					  binding="basicHttpBinding"
					  bindingConfiguration="BasicHttpBinding_IWsAnwo"
					  contract="WsAnwoReference.IWsAnwo" />
		</client>
	</system.serviceModel>

	<system.webServer>
		<modules runAllManagedModulesForAllRequests="true" />
		<directoryBrowse enabled="true" />
	</system.webServer>
</configuration>

